{% extends '::base.html.twig' %}


{% block stylesheets %}

    {{ parent() }}

    {# SPINNER BUTTONS Y MATERIAL DESIGN #}
    <link href="{{ asset('public/assets/global/css/components-md.min.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('public/assets/global/css/plugins-md.min.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('public/assets/global/plugins/ladda/ladda-themeless.min.css') }}" rel="stylesheet" type="text/css" />

    {# SELECT2 #}
    <link href="{{ asset('public/assets/global/plugins/select2/css/select2.min.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('public/assets/global/plugins/select2/css/select2-bootstrap.min.css') }}" rel="stylesheet" type="text/css" />

    {# EXTENDED MODALS #}
    <link href="{{ asset('public/assets/global/plugins/bootstrap-modal/css/bootstrap-modal-bs3patch.css') }}" rel="stylesheet" type="text/css" />
    <link href="{{ asset('public/assets/global/plugins/bootstrap-modal/css/bootstrap-modal.css') }}" rel="stylesheet" type="text/css" />

    {# TOASTR NOTIFICATIONS #}
    <link href="{{ asset('public/assets/global/plugins/bootstrap-toastr/toastr.min.css') }}" rel="stylesheet" type="text/css" />

   <!--DATEPICKER-->
    <link href="{{ asset('public/assets/layouts/layout/css/datepicker.css')}}" rel="stylesheet" type="text/css">

    <link href="{{ asset('public/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css') }}" rel="stylesheet" type="text/css" />
{% endblock %}


{% block pagecontent %}

	<div class="row">
        <div class="col-md-12">
            <div class="portlet light portlet-fit portlet-datatable bordered">
                <div class="portlet-title">
                    <div class="caption">
                        <i class="icon-pin font-blue-steel"></i>
                        <span class="caption-subject font-blue-steel sbold uppercase">Programación</span>
                    </div>
             		<div class="actions">
             		 	<div class="btn-group btn-group-devided" data-toggle="buttons">
                           	<button type="Button" data-loading-text="cargando..." class="btn yellow mt-ladda-btn ladda-button mt-progress-demo btn-circle" data-style="slide-right" id="pasaraexcel" name="pasaraexcel" onClick="javascript:excel();">
		                    <span class="ladda-label">
		                        Pasar a Excel
		                    </span>
                			</button>
                        </div>
                    </div>
                </div>
                <div class="portlet-body">
            		<div class="form-group">
                		<div class="col-md-9"></div>

                        <label class="col-md-2 control-label" style="color: black; text-align: right;">Cuadras &nbsp;&nbsp; →</label>
                        <div class="col-md-1">
                            <select id="cuadras" class="form-control input-sm">
                    			<option>1</option>
                    			<option>2</option>
                    			<option>3</option>
                    			<option>4</option>
                    			<option>5</option>
                    			<option>6</option>
                    			<option>7</option>
                    			<option>8</option>
                    			<option>9</option>
                    			<option>10</option>
                    			<option>1000</option>
                    		</select>
                        </div>
                    </div>
                    <br>
                    <div class="table-container">
                    	<table class="table table-striped table-bordered table-hover table-checkable" id="TablaNotificaciones">
							<thead>
                                <tr role="row" class="heading" id="head">
                                    <th width="15%"></th>
                                	<th width="15%">Direccion Notificada</th>
                                    <th width="15%">Fecha Vuelta</th>
                                    <th width="15%">numero</th>
                                    <th width="15%">nombre Destinatario</th>
                                    <th width="15%">tipo cedula</th>
                                </tr>
                                <tr role="row" class="filter">
										<th>
                                        <button class="btn btn-sm green btn-outline filter-submit margin-bottom">
                                            <i class="fa fa-search"></i> Buscar </button>
                                   		<button class="btn btn-sm red btn-outline filter-cancel">
                                       		<i class="fa fa-times"></i> Reiniciar </button>
										</th>
										<th>
											<input type="text" class="form-control form-filter" name="order_1" id="order_1"></input>
										</th>
										<th>
											<input type="text" class="form-control form-filter fecha-picker" name="order_2" id="order_2"></input>
										</th>
										<th>
											<input type="text" class="form-control form-filter" name="order_3" id="order_3"></input>
										</th>
										<th>
											<input type="text" class="form-control form-filter" name="order_4" id="order_4"></input>
										</th>
										<th>
                                            <select type="text" class="form-control form-filter input-sm select2" name="order_5" id="order_5">
                                                <option></option>
                                                {% for e in tipoCedula %}
                                                    <option>{{ e.tipoCedula }}</option>
                                                {% endfor %}
                                            </select>
										</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- End: life time stats -->
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="portlet light portlet-fit portlet-datatable bordered">
                <div class="portlet-title">
                    <div class="caption">
                        <i class="icon-pin font-blue-steel"></i>
                        <span class="caption-subject font-blue-steel sbold uppercase">Programación Disposicion</span>
                    </div>
                    <div class="actions">
                        <div class="btn-group btn-group-devided" data-toggle="buttons">
                            <button type="Button" data-loading-text="cargando..." class="btn yellow mt-ladda-btn ladda-button mt-progress-demo btn-circle" data-style="slide-right" id="pasaraexcel" name="pasaraexcel" onClick="javascript:excelDisposicion();">
                            <span class="ladda-label">
                                Pasar a Excel
                            </span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="portlet-body">                    
                    <div class="table-container">
                        <table class="table table-striped table-bordered table-hover table-checkable" id="TablaNotificacionesDisposicion">
                            <thead>
                                <tr role="row" class="heading" id="head">
                                    <th width="15%"></th>
                                    <th width="15%">Direccion Notificada</th>
                                    <th width="15%">Fecha Vuelta</th>
                                    <th width="15%">Numero</th>
                                    <th width="15%">Anio</th>
                                    <th width="15%">Reparticion</th>
                                </tr>
                                <tr role="row" class="filter">
                                    <th>
                                    <button class="btn btn-sm green btn-outline filter-submit margin-bottom">
                                        <i class="fa fa-search"></i> Buscar </button>
                                    <button class="btn btn-sm red btn-outline filter-cancel">
                                        <i class="fa fa-times"></i> Reiniciar </button>
                                    </th>
                                    <th>
                                        <input type="text" class="form-control form-filter" name="order_1" id="order_1"></input>
                                    </th>
                                    <th>
                                        <input type="text" class="form-control form-filter fecha-picker" name="order_2" id="order_2"></input>
                                    </th>
                                    <th>
                                        <input type="text" class="form-control form-filter" name="order_3" id="order_3"></input>
                                    </th>
                                    <th>
                                        <input type="text" class="form-control form-filter" name="order_4" id="order_4"></input>
                                    </th>
                                    <th>
                                        <input type="text" class="form-control form-filter" name="order_5" id="order_5"></input>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- End: life time stats -->
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="portlet light portlet-fit bordered">
                <div class="portlet-title">
                	<div class="caption">
                        <i class="icon-map font-green-jungle"></i>
                        <span class="caption-subject font-green-jungle sbold uppercase">Mapa de notificaciones</span>
                    </div>
                    <div class="actions">
                    </div>
                </div>
                <div class="portlet-body">

                    <div id="gmap" class="gmaps" style="height: 500px;"> </div>

                </div>
            </div>
        </div>
    </div>

    <div class="row">
    	<div class="col-md-2"></div>

        <div class="col-md-8">
		    <div class="portlet box yellow">
		        <div class="portlet-title">
		            <div class="caption">
		                <i class="fa fa-list-ul"></i>Resultados </div>
		            <div class="tools">
		                <a href="javascript:;" class="collapse"> </a>
		            </div>
		        </div>
		        <div class="portlet-body" id="resultados">
		        </div>
		    </div>
        </div>

        <div class="col-md-2"></div>
    </div>

    {# ----------------------------------- #}

    <div id="modalNotificacion" class="modal container fade" tabindex="-1">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
            <h4 class="modal-title">Full Width</h4>
        </div>

        <div class="modal-body"> </div>

        <div class="modal-footer">
            <button type="submit" data-loading-text="Loading..." class="btn blue mt-ladda-btn ladda-button mt-progress-demo btn-circle" data-style="slide-right" data-toggle="modal" onClick="javascript:$('#modalForm').submit();">
                <span class="ladda-label">
                    Guardar
                </span>
            </button>
            <button type="button" data-dismiss="modal" class="btn btn-outline btn-circle dark">Cerrar</button>
        </div>
    </div>

{% endblock %}


{% block javascripts %}

	{{ parent() }}

	{# SPINNER BUTTONS #}
    <script src="{{ asset('public/assets/global/plugins/ladda/spin.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('public/assets/global/plugins/ladda/ladda.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('public/assets/pages/scripts/ui-buttons.min.js') }}" type="text/javascript"></script>

    {# SELECT2 #}
    <script src="{{ asset('public/assets/global/plugins/select2/js/select2.full.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('public/assets/pages/scripts/components-select2.min.js') }}" type="text/javascript"></script>

    {# EXTENDED MODALS #}
    <script src="{{ asset('public/assets/global/plugins/bootstrap-modal/js/bootstrap-modalmanager.js') }}" type="text/javascript"></script>
    <script src="{{ asset('public/assets/global/plugins/bootstrap-modal/js/bootstrap-modal.js') }}" type="text/javascript"></script>
    <script src="{{ asset('public/assets/pages/scripts/ui-extended-modals.min.js') }}" type="text/javascript"></script>

    {# TOASTR NOTIFICATIONS #}
    <script src="{{ asset('public/assets/global/plugins/bootstrap-toastr/toastr.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('Js/CoreBundle/ui-toastr.js') }}" type="text/javascript"></script>

    {# GOOGLE MAPS #}
    <script src="{{google_url}}" type="text/javascript"></script>
    <script src="{{ asset('public/assets/global/plugins/gmaps/gmaps.min.js') }}" type="text/javascript"></script>

	{# DATATABLES #}
	<script src="{{asset('public/assets/global/scripts/datatable.js')}}" type="text/javascript"></script>
	<script src="{{asset('public/assets/global/plugins/datatables/datatables.min.js')}}" type="text/javascript"></script>
	<script src="{{asset('public/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js')}}" type="text/javascript"></script>
	<script src="{{asset('public/assets/pages/scripts/table-datatables-ajax.min.js')}}" type="text/javascript"></script>

    {# SCRIPTS DE LA PÁGINA #}
    <script src="{{asset('Js/Notificaciones/NotificacionesBundle/TablaNotificaciones.js')}}" type="text/javascript"></script>
    <script src="{{asset('Js/Notificaciones/NotificacionesBundle/TablaNotificacionesDisposicion.js')}}" type="text/javascript"></script>
    <script src="{{asset('Js/Notificaciones/NotificacionesBundle/Notificaciones.js')}}" type="text/javascript"></script>
	<script type="text/javascript">
        var routesUsuario = {
            myroutes:{
                TablaNotificaciones:"{{ path('notificaciones_notificaciones_tabla_lista_notificacion_programacion') }}",
                TablaNotificacionesDisposicion:"{{ path('notificaciones_notificaciones_tabla_lista_notificacion_programacion_disposicion') }}",
                excelNotificaciones:"{{ path('notificaciones_notificaciones_excel_notificacion_programacion') }}",
                excelNotificacionesDisposicion:"{{ path('notificaciones_notificaciones_excel_notificacion_programacion_disposicion') }}",
                distanciaNotificacion:"{{ path('notificaciones_notificaciones_distancia_notificacion_programacion', { 'idNotificacion': 0, 'cuadras': '-1' }) }}",
            },
        };

        function excel() {
	    	Notificaciones.excel(routesUsuario.myroutes.excelNotificaciones);
	    }

        function excelDisposicion() {
            Notificaciones.excel(routesUsuario.myroutes.excelNotificacionesDisposicion);
        }

		jQuery(document).ready(function() {
            $("#order_5").select2({
                placeholder: "Seleccionar tipo..."
            });
           $('.fecha-picker').datepicker({ dateFormat: "dd-mm-yy" });

		   	//Custom.LoadContentTable();
		   	TablaNotificaciones.init(routesUsuario.myroutes.TablaNotificaciones);
            TablaNotificacionesDisposicion.init(routesUsuario.myroutes.TablaNotificacionesDisposicion);
		  	Notificaciones.init();
		});
	</script>

{% endblock %}